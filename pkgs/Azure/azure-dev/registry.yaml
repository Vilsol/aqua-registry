# yaml-language-server: $schema=https://raw.githubusercontent.com/aquaproj/aqua/main/json-schema/registry.json
packages:
  - type: github_release
    repo_owner: Azure
    repo_name: azure-dev
    description: "A developer CLI that reduces the time it takes to get started on Azure. The Azure Developer CLI (azd) provides developer-friendly commands that map to key workflow stages: code, build, deploy, monitor, repeat"
    version_constraint: "false"
    version_overrides:
      - version_constraint: Version in ["azure-dev-vscode_0.1.0", "azure-dev-vscode_0.2.0", "azure-dev-vscode_0.3.0", "azure-dev-vscode_0.5.0", "azure-dev-vscode_0.6.0", "azure-dev-vscode_0.7.0"]
      - version_constraint: Version in ["azure-dev-cli_0.4.0-beta.1", "azure-dev-cli_0.7.0-beta.1"]
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        rosetta2: true
        windows_arm_emulation: true
        overrides:
          - goos: linux
            format: tar.gz
        supported_envs:
          - darwin
          - windows
          - amd64
      - version_constraint: Version == "azure-dev-cli_0.9.0-beta.1"
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        windows_arm_emulation: true
        overrides:
          - goos: linux
            format: tar.gz
          - goos: darwin
            goarch: arm64
            asset: azd-{{.OS}}-{{.Arch}}-beta.{{.Format}}
        supported_envs:
          - darwin
          - windows
          - amd64
      - version_constraint: Version == "azure-dev-vscode_0.9.0"
      - version_constraint: semver("<= 0.3.0-beta.5")
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        rosetta2: true
        windows_arm_emulation: true
        overrides:
          - goos: linux
            format: tar.gz
        supported_envs:
          - darwin
          - windows
          - amd64
      - version_constraint: semver("<= 0.4.2")
      - version_constraint: semver("<= 0.8.0-beta.2")
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        rosetta2: true
        windows_arm_emulation: true
        overrides:
          - goos: linux
            format: tar.gz
        supported_envs:
          - darwin
          - windows
          - amd64
      - version_constraint: semver("<= 0.8.4")
      - version_constraint: semver("<= 1.3.1")
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        windows_arm_emulation: true
        overrides:
          - goos: linux
            goarch: amd64
            format: tar.gz
          - goos: linux
            goarch: arm64
            format: tar.gz
            asset: azd-{{.OS}}-{{.Arch}}-beta.{{.Format}}
          - goos: darwin
            goarch: arm64
            asset: azd-{{.OS}}-{{.Arch}}-beta.{{.Format}}
      - version_constraint: semver("<= 1.9.3")
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        windows_arm_emulation: true
        overrides:
          - goos: linux
            format: tar.gz
      - version_constraint: "true"
        asset: azd-{{.OS}}-{{.Arch}}.{{.Format}}
        format: zip
        overrides:
          - goos: linux
            format: tar.gz
          - goos: windows
            goarch: arm64
            asset: azd-{{.OS}}-{{.Arch}}-alpha.{{.Format}}
